(()=>{"use strict";var e={162:(e,r,t)=>{t.d(r,{useDataReplacerStore:()=>o});const c=e=>{let r;const t=new Set,c=(e,c)=>{const a="function"==typeof e?e(r):e;if(!Object.is(a,r)){const e=r;r=(null!=c?c:"object"!=typeof a||null===a)?a:Object.assign({},r,a),t.forEach(t=>t(r,e))}},a=()=>r,d={setState:c,getState:a,getInitialState:()=>l,subscribe:e=>(t.add(e),()=>t.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},l=r=e(c,a,d);return d};var a=t(609),d=t(242);const{useDebugValue:l}=a,{useSyncExternalStoreWithSelector:s}=d;let f=!1;const n=e=>e,w=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r="function"==typeof e?(e=>e?c(e):c)(e):e,t=(e,t)=>function(e,r=n,t){t&&!f&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),f=!0);const c=s(e.subscribe,e.getState,e.getServerState||e.getInitialState,r,t);return l(c),c}(r,e,t);return Object.assign(t,r),t},o=(m=(e,r)=>({searchResults:null,isLoading:!1,error:null,postTypes:[],metaKeys:[],searchMeta:async r=>{e({isLoading:!0,error:null});try{const t=await fetch(wcfdr_ajax.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"wcfdr_search",nonce:wcfdr_ajax.nonce,...r})});if(!t.ok)throw new Error("Search request failed");const c=await t.json();if(c.success)return e({searchResults:c.data,isLoading:!1}),c.data;throw new Error(c.data||"Search failed")}catch(r){throw e({error:"Search failed",isLoading:!1}),r}},getPostTypes:async()=>{try{const r=await fetch(wcfdr_ajax.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"wcfdr_get_post_types",nonce:wcfdr_ajax.nonce})});if(!r.ok)throw new Error("Failed to fetch post types");const t=await r.json();if(!t.success)throw new Error(t.data||"Failed to load post types");e({postTypes:t.data})}catch(r){console.error("Failed to load post types:",r),e({postTypes:[{value:"post",label:"Posts",count:0},{value:"page",label:"Pages",count:0},{value:"st-templates",label:"ST Templates",count:0}]})}},getMetaKeys:async r=>{try{const t=await fetch(wcfdr_ajax.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"wcfdr_get_meta_keys",nonce:wcfdr_ajax.nonce,...r&&{post_type:r}})});if(!t.ok)throw new Error("Failed to fetch meta keys");const c=await t.json();if(!c.success)throw new Error(c.data||"Failed to load meta keys");e({metaKeys:c.data})}catch(r){console.error("Failed to load meta keys:",r),e({metaKeys:["_thumbnail_id","_wp_page_template","_product_image_gallery","custom_field_1","custom_field_2","seo_description","seo_keywords"]})}},updateRow:async r=>{e({isLoading:!0});try{const t=await fetch(wcfdr_ajax.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"wcfdr_update_row",nonce:wcfdr_ajax.nonce,...r})});if(!t.ok)throw new Error("Update request failed");const c=await t.json();if(!c.success)throw new Error(c.data||"Update failed");e({isLoading:!1})}catch(r){throw e({error:"Update failed",isLoading:!1}),r}},restoreRow:async(r,t)=>{e({isLoading:!0});try{const c=await fetch(wcfdr_ajax.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"wcfdr_restore",nonce:wcfdr_ajax.nonce,post_id:r.toString(),meta_key:t})});if(!c.ok)throw new Error("Restore request failed");const a=await c.json();if(!a.success)throw new Error(a.data||"Restore failed");e({isLoading:!1})}catch(r){throw e({error:"Restore failed",isLoading:!1}),r}},previewReplace:async r=>{e({isLoading:!0,error:null});try{const t=await fetch(wcfdr_ajax.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"wcfdr_preview",nonce:wcfdr_ajax.nonce,...r})});if(!t.ok)throw new Error("Preview request failed");const c=await t.json();if(c.success)return e({isLoading:!1}),c.data;throw new Error(c.data||"Preview failed")}catch(r){throw e({error:"Preview failed",isLoading:!1}),r}},executeReplace:async r=>{e({isLoading:!0,error:null});try{const t=await fetch(wcfdr_ajax.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"wcfdr_replace",nonce:wcfdr_ajax.nonce,...r})});if(!t.ok)throw new Error("Replace request failed");const c=await t.json();if(c.success)return e({isLoading:!1}),c.data;throw new Error(c.data||"Replace failed")}catch(r){throw e({error:"Replace failed",isLoading:!1}),r}},initializeStore:async()=>{try{await r().getPostTypes()}catch(e){console.error("Failed to initialize store:",e)}}}))?w(m):w;var m},242:(e,r,t)=>{e.exports=t(781)},338:(e,r,t)=>{var c=t(795);r.createRoot=c.createRoot,r.hydrateRoot=c.hydrateRoot},493:(e,r,t)=>{var c=t(609),a="function"==typeof Object.is?Object.is:function(e,r){return e===r&&(0!==e||1/e==1/r)||e!=e&&r!=r},d=c.useState,l=c.useEffect,s=c.useLayoutEffect,f=c.useDebugValue;function n(e){var r=e.getSnapshot;e=e.value;try{var t=r();return!a(e,t)}catch(e){return!0}}var w="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,r){return r()}:function(e,r){var t=r(),c=d({inst:{value:t,getSnapshot:r}}),a=c[0].inst,w=c[1];return s(function(){a.value=t,a.getSnapshot=r,n(a)&&w({inst:a})},[e,t,r]),l(function(){return n(a)&&w({inst:a}),e(function(){n(a)&&w({inst:a})})},[e]),f(t),t};r.useSyncExternalStore=void 0!==c.useSyncExternalStore?c.useSyncExternalStore:w},609:e=>{e.exports=window.React},781:(e,r,t)=>{var c=t(609),a=t(888),d="function"==typeof Object.is?Object.is:function(e,r){return e===r&&(0!==e||1/e==1/r)||e!=e&&r!=r},l=a.useSyncExternalStore,s=c.useRef,f=c.useEffect,n=c.useMemo,w=c.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,r,t,c,a){var o=s(null);if(null===o.current){var m={hasValue:!1,value:null};o.current=m}else m=o.current;o=n(function(){function e(e){if(!f){if(f=!0,l=e,e=c(e),void 0!==a&&m.hasValue){var r=m.value;if(a(r,e))return s=r}return s=e}if(r=s,d(l,e))return r;var t=c(e);return void 0!==a&&a(r,t)?(l=e,r):(l=e,s=t)}var l,s,f=!1,n=void 0===t?null:t;return[function(){return e(r())},null===n?void 0:function(){return e(n())}]},[r,t,c,a]);var i=l(e,o[0],o[1]);return f(function(){m.hasValue=!0,m.value=i},[i]),w(i),i}},795:e=>{e.exports=window.ReactDOM},888:(e,r,t)=>{e.exports=t(493)}},r={};function t(c){var a=r[c];if(void 0!==a)return a.exports;var d=r[c]={exports:{}};return e[c](d,d.exports,t),d.exports}t.d=(e,r)=>{for(var c in r)t.o(r,c)&&!t.o(e,c)&&Object.defineProperty(e,c,{enumerable:!0,get:r[c]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var c=t(609),a=t(338),d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const l=(e,r)=>{const t=(0,c.forwardRef)(({color:t="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:s,className:f="",children:n,...w},o)=>{return(0,c.createElement)("svg",{ref:o,...d,width:a,height:a,stroke:t,strokeWidth:s?24*Number(l)/Number(a):l,className:["lucide",`lucide-${m=e,m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,f].join(" "),...w},[...r.map(([e,r])=>(0,c.createElement)(e,r)),...Array.isArray(n)?n:[n]]);var m});return t.displayName=`${e}`,t},s=l("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),f=l("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),n=l("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),w=l("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),o=({onSettingsClick:e,onHelpClick:r})=>(0,c.createElement)("header",{className:"wcfdr-bg-white wcfdr-border-b wcfdr-border-gray-200 wcfdr-px-6 wcfdr-py-4"},(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-justify-between"},(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-space-x-4"},(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-space-x-3"},(0,c.createElement)("div",{className:"wcfdr-bg-blue-600 wcfdr-p-2 wcfdr-rounded-lg"},(0,c.createElement)(s,{className:"wcfdr-h-6 wcfdr-w-6 wcfdr-text-white"})),(0,c.createElement)("div",null,(0,c.createElement)("h1",{className:"wcfdr-text-2xl wcfdr-font-bold wcfdr-text-gray-900"},"WCF Data Replacer"),(0,c.createElement)("p",{className:"wcfdr-text-sm wcfdr-text-gray-600"},"Professional post meta search, preview, and replacement tool")))),(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-space-x-4"},(0,c.createElement)("div",{className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-3 wcfdr-py-1.5 wcfdr-rounded-full wcfdr-text-sm wcfdr-font-medium wcfdr-bg-green-100 wcfdr-text-green-800"},(0,c.createElement)("div",{className:"wcfdr-w-2 wcfdr-h-2 wcfdr-bg-green-400 wcfdr-rounded-full wcfdr-mr-2"}),"Ready"),(0,c.createElement)("button",{onClick:r,className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-3 wcfdr-py-2 wcfdr-border wcfdr-border-gray-300 wcfdr-shadow-sm wcfdr-text-sm wcfdr-font-medium wcfdr-rounded-md wcfdr-text-gray-700 wcfdr-bg-white hover:wcfdr-bg-gray-50"},(0,c.createElement)(f,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-mr-2"}),"Help"),(0,c.createElement)("button",{onClick:e,className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-3 wcfdr-py-2 wcfdr-border wcfdr-border-gray-300 wcfdr-shadow-sm wcfdr-text-sm wcfdr-font-medium wcfdr-rounded-md wcfdr-text-gray-700 wcfdr-bg-white hover:wcfdr-bg-gray-50"},(0,c.createElement)(n,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-mr-2"}),"Settings"),(0,c.createElement)("div",{className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-3 wcfdr-py-2 wcfdr-bg-blue-50 wcfdr-text-blue-700 wcfdr-rounded-md wcfdr-text-sm wcfdr-font-medium"},(0,c.createElement)(w,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-mr-2"}),"Admin Only")))),m=l("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),i=l("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),u=l("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]),p=l("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),g=l("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),x=l("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),b=l("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var y=t(162);const h=({onSearch:e,onClear:r,isLoading:t,settings:a})=>{const[d,l]=(0,c.useState)(""),[s,f]=(0,c.useState)(""),[n,w]=(0,c.useState)(""),[o,h]=(0,c.useState)(!1),[E,v]=(0,c.useState)(!1),[N,k]=(0,c.useState)(a?.maxResultsPerPage||20),[S,R]=(0,c.useState)(!1),[_,C]=(0,c.useState)(!1),[P,T]=(0,c.useState)(""),[j,L]=(0,c.useState)(!1),[M,D]=(0,c.useState)(-1),[F,O]=(0,c.useState)(""),[U,z]=(0,c.useState)(!1),[A,$]=(0,c.useState)(-1),B=(0,c.useRef)(null),q=(0,c.useRef)(null),{postTypes:W,metaKeys:V,getPostTypes:I,getMetaKeys:K}=(0,y.useDataReplacerStore)();(0,c.useEffect)(()=>{I(),K()},[I,K]),(0,c.useEffect)(()=>{a?.maxResultsPerPage&&k(a.maxResultsPerPage)},[a?.maxResultsPerPage]),(0,c.useEffect)(()=>{d?(console.log("📝 Post type changed to:",d),C(!0),K(d).finally(()=>{C(!1)}),f(""),O(""),$(-1)):(f(""),O(""),$(-1))},[d,K]),(0,c.useEffect)(()=>{const e=e=>{B.current&&!B.current.contains(e.target)&&(L(!1),D(-1)),q.current&&!q.current.contains(e.target)&&(z(!1),$(-1))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const H=W.filter(e=>e.label.toLowerCase().includes(P.toLowerCase())||e.value.toLowerCase().includes(P.toLowerCase())),Z=V.filter(e=>e.toLowerCase().includes(F.toLowerCase())),J=e=>{l(e.value),T(e.label),L(!1),D(-1)},G=e=>{f(e),O(e),z(!1),$(-1)},Q=d||s||n||o||E;return(0,c.createElement)("div",{className:"wcfdr-bg-white wcfdr-rounded-lg wcfdr-shadow wcfdr-p-6"},(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-justify-between wcfdr-mb-6"},(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-space-x-2"},(0,c.createElement)(m,{className:"wcfdr-h-5 wcfdr-w-5 wcfdr-text-gray-600"}),(0,c.createElement)("h2",{className:"wcfdr-text-lg wcfdr-font-medium wcfdr-text-gray-900"},"Search Filters")),(0,c.createElement)("button",{onClick:()=>R(!S),className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-3 wcfdr-py-1.5 wcfdr-text-sm wcfdr-font-medium wcfdr-text-gray-600 wcfdr-bg-gray-100 wcfdr-rounded-md hover:wcfdr-bg-gray-200"},"Advanced",(0,c.createElement)(i,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-ml-1 wcfdr-transition-transform "+(S?"wcfdr-rotate-180":"")}))),(0,c.createElement)("div",{className:"wcfdr-grid wcfdr-grid-cols-1 wcfdr-gap-4 md:wcfdr-grid-cols-2 lg:wcfdr-grid-cols-3"},(0,c.createElement)("div",{ref:B},(0,c.createElement)("label",{className:"wcfdr-block wcfdr-text-sm wcfdr-font-medium wcfdr-text-gray-700 wcfdr-mb-2"},"Post Type"),(0,c.createElement)("div",{className:"wcfdr-relative"},(0,c.createElement)("div",{className:"wcfdr-relative"},(0,c.createElement)("input",{type:"text",value:P,onChange:e=>{T(e.target.value),L(!0),D(-1)},onFocus:()=>L(!0),onKeyDown:e=>{if(j)switch(e.key){case"ArrowDown":e.preventDefault(),D(e=>e<H.length-1?e+1:e);break;case"ArrowUp":e.preventDefault(),D(e=>e>0?e-1:-1);break;case"Enter":e.preventDefault(),M>=0&&H[M]&&J(H[M]);break;case"Escape":L(!1),D(-1)}},placeholder:"Search post types...",className:"wcfdr-w-full wcfdr-rounded-md wcfdr-border-gray-300 wcfdr-shadow-sm focus:wcfdr-border-blue-500 focus:wcfdr-ring-blue-500 wcfdr-pr-10"}),(0,c.createElement)("button",{type:"button",onClick:()=>L(!j),className:"wcfdr-absolute wcfdr-inset-y-0 wcfdr-right-0 wcfdr-flex wcfdr-items-center wcfdr-pr-3"},(0,c.createElement)(u,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-text-gray-400"}))),j&&(0,c.createElement)("div",{className:"wcfdr-absolute wcfdr-z-10 wcfdr-w-full wcfdr-mt-1 wcfdr-bg-white wcfdr-border wcfdr-border-gray-300 wcfdr-rounded-md wcfdr-shadow-lg wcfdr-max-h-60 wcfdr-overflow-auto"},H.length>0?H.map((e,r)=>(0,c.createElement)("button",{key:e.value,type:"button",onClick:()=>J(e),className:"wcfdr-w-full wcfdr-text-left wcfdr-px-3 wcfdr-py-2 wcfdr-text-sm wcfdr-text-gray-700 hover:wcfdr-bg-gray-100 wcfdr-flex wcfdr-items-center wcfdr-justify-between "+(r===M?"wcfdr-bg-blue-50 wcfdr-text-blue-900":"")},(0,c.createElement)("div",null,(0,c.createElement)("div",{className:"wcfdr-font-medium"},e.label),(0,c.createElement)("div",{className:"wcfdr-text-xs wcfdr-text-gray-500"},e.value," (",e.count,")")),d===e.value&&(0,c.createElement)(p,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-text-blue-600"}))):(0,c.createElement)("div",{className:"wcfdr-px-3 wcfdr-py-2 wcfdr-text-sm wcfdr-text-gray-500"},"No post types found"))),(0,c.createElement)("p",{className:"wcfdr-mt-1 wcfdr-text-xs wcfdr-text-gray-500"},W.length," post type",1!==W.length?"s":""," available")),(0,c.createElement)("div",{ref:q},(0,c.createElement)("label",{className:"wcfdr-block wcfdr-text-sm wcfdr-font-medium wcfdr-text-gray-700 wcfdr-mb-2"},"Meta Key"),(0,c.createElement)("div",{className:"wcfdr-relative"},(0,c.createElement)("div",{className:"wcfdr-relative"},(0,c.createElement)("input",{type:"text",value:F,onChange:e=>{O(e.target.value),z(!0),$(-1)},onFocus:()=>z(!0),onKeyDown:e=>{if(U)switch(e.key){case"ArrowDown":e.preventDefault(),$(e=>e<Z.length-1?e+1:e);break;case"ArrowUp":e.preventDefault(),$(e=>e>0?e-1:-1);break;case"Enter":e.preventDefault(),A>=0&&Z[A]&&G(Z[A]);break;case"Escape":z(!1),$(-1)}},placeholder:d?_?"Loading...":"Search meta keys...":"Select Post Type First",disabled:!d||_,className:"wcfdr-w-full wcfdr-rounded-md wcfdr-border-gray-300 wcfdr-shadow-sm focus:wcfdr-border-blue-500 focus:wcfdr-ring-blue-500 disabled:wcfdr-opacity-50 disabled:wcfdr-cursor-not-allowed wcfdr-pr-10"}),(0,c.createElement)("button",{type:"button",onClick:()=>z(!U),disabled:!d||_,className:"wcfdr-absolute wcfdr-inset-y-0 wcfdr-right-0 wcfdr-flex wcfdr-items-center wcfdr-pr-3"},_?(0,c.createElement)(g,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-animate-spin wcfdr-text-gray-400"}):(0,c.createElement)(u,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-text-gray-400"}))),U&&d&&!_&&(0,c.createElement)("div",{className:"wcfdr-absolute wcfdr-z-10 wcfdr-w-full wcfdr-mt-1 wcfdr-bg-white wcfdr-border wcfdr-border-gray-300 wcfdr-rounded-md wcfdr-shadow-lg wcfdr-max-h-60 wcfdr-overflow-auto"},Z.length>0?Z.map((e,r)=>(0,c.createElement)("button",{key:e,type:"button",onClick:()=>G(e),className:"wcfdr-w-full wcfdr-text-left wcfdr-px-3 wcfdr-py-2 wcfdr-text-sm wcfdr-text-gray-700 hover:wcfdr-bg-gray-100 wcfdr-flex wcfdr-items-center wcfdr-justify-between "+(r===A?"wcfdr-bg-blue-50 wcfdr-text-blue-900":"")},(0,c.createElement)("span",{className:"wcfdr-truncate"},e),s===e&&(0,c.createElement)(p,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-text-blue-600"}))):(0,c.createElement)("div",{className:"wcfdr-px-3 wcfdr-py-2 wcfdr-text-sm wcfdr-text-gray-500"},"No meta keys found"))),(0,c.createElement)("p",{className:"wcfdr-mt-1 wcfdr-text-xs wcfdr-text-gray-500"},d?_?"Loading meta keys...":`${V.length} meta key${1!==V.length?"s":""} found for ${d}`:"Select a post type to see available meta keys")),(0,c.createElement)("div",null,(0,c.createElement)("label",{className:"wcfdr-block wcfdr-text-sm wcfdr-font-medium wcfdr-text-gray-700 wcfdr-mb-2"},"Value Contains"),(0,c.createElement)("input",{type:"text",value:n,onChange:e=>w(e.target.value),placeholder:"Search within meta values...",className:"wcfdr-w-full wcfdr-rounded-md wcfdr-border-gray-300 wcfdr-shadow-sm focus:wcfdr-border-blue-500 focus:wcfdr-ring-blue-500"}))),S&&(0,c.createElement)("div",{className:"wcfdr-mt-6 wcfdr-pt-6 wcfdr-border-t wcfdr-border-gray-200"},(0,c.createElement)("div",{className:"wcfdr-grid wcfdr-grid-cols-1 wcfdr-gap-4 md:wcfdr-grid-cols-3"},(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-justify-between"},(0,c.createElement)("label",{className:"wcfdr-text-sm wcfdr-font-medium wcfdr-text-gray-700"},"Case Sensitive"),(0,c.createElement)("input",{type:"checkbox",checked:o,onChange:e=>h(e.target.checked),className:"wcfdr-rounded wcfdr-border-gray-300 wcfdr-text-blue-600 focus:wcfdr-ring-blue-500"})),(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-justify-between"},(0,c.createElement)("label",{className:"wcfdr-text-sm wcfdr-font-medium wcfdr-text-gray-700"},"Use Regular Expression"),(0,c.createElement)("input",{type:"checkbox",checked:E,onChange:e=>v(e.target.checked),className:"wcfdr-rounded wcfdr-border-gray-300 wcfdr-text-blue-600 focus:wcfdr-ring-blue-500"})),(0,c.createElement)("div",null,(0,c.createElement)("label",{className:"wcfdr-block wcfdr-text-sm wcfdr-font-medium wcfdr-text-gray-700 wcfdr-mb-2"},"Results Per Page"),(0,c.createElement)("select",{value:N,onChange:e=>k(Number(e.target.value)),className:"wcfdr-w-full wcfdr-rounded-md wcfdr-border-gray-300 wcfdr-shadow-sm focus:wcfdr-border-blue-500 focus:wcfdr-ring-blue-500"},(0,c.createElement)("option",{value:10},"10"),(0,c.createElement)("option",{value:20},"20"),(0,c.createElement)("option",{value:50},"50"),(0,c.createElement)("option",{value:100},"100"),(0,c.createElement)("option",{value:200},"200"),(0,c.createElement)("option",{value:500},"500"),(0,c.createElement)("option",{value:1e3},"1,000"),(0,c.createElement)("option",{value:1500},"1,500"))))),(0,c.createElement)("div",{className:"wcfdr-mt-6 wcfdr-flex wcfdr-items-center wcfdr-justify-between"},(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-space-x-3"},(0,c.createElement)("button",{onClick:()=>{const r={post_type:d,meta_key:s,value:n,case_sensitive:o,regex:E,per_page:N};console.log("🔍 Searching with filters:",r),e(r)},disabled:t||!s&&!n,className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-4 wcfdr-py-2 wcfdr-border wcfdr-border-transparent wcfdr-text-sm wcfdr-font-medium wcfdr-rounded-md wcfdr-text-white wcfdr-bg-blue-600 hover:wcfdr-bg-blue-700 disabled:wcfdr-opacity-50 disabled:wcfdr-cursor-not-allowed"},(0,c.createElement)(x,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-mr-2"}),t?"Searching...":"Search"),(0,c.createElement)("button",{onClick:()=>{l(""),T(""),f(""),O(""),w(""),h(!1),v(!1),k(a?.maxResultsPerPage||20),D(-1),$(-1),r()},disabled:!Q,className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-4 wcfdr-py-2 wcfdr-border wcfdr-border-gray-300 wcfdr-shadow-sm wcfdr-text-sm wcfdr-font-medium wcfdr-rounded-md wcfdr-text-gray-700 wcfdr-bg-white hover:wcfdr-bg-gray-50 disabled:wcfdr-opacity-50 disabled:wcfdr-cursor-not-allowed"},(0,c.createElement)(b,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-mr-2"}),"Clear")),(0,c.createElement)("div",{className:"wcfdr-text-sm wcfdr-text-gray-500"},Q&&(0,c.createElement)("span",{className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-2.5 wcfdr-py-0.5 wcfdr-rounded-full wcfdr-text-xs wcfdr-font-medium wcfdr-bg-blue-100 wcfdr-text-blue-800"},"Filters Active"))))},E=l("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),v=l("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),N=l("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),k=l("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),S=l("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),R=l("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),_=l("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),C=l("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),P=l("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),T=l("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),j=({results:e,onUpdateRow:r,onRestoreRow:a,onPageChange:d})=>{const[l,f]=(0,c.useState)(null),[n,w]=(0,c.useState)(""),[o,m]=(0,c.useState)(!1),[i,u]=(0,c.useState)(null),[p,g]=(0,c.useState)(new Set),[x,y]=(0,c.useState)(!1),[h,j]=(0,c.useState)("plain"),[L,M]=(0,c.useState)(""),[D,F]=(0,c.useState)(""),[O,U]=(0,c.useState)(!1),[z,A]=(0,c.useState)(!1),[$,B]=(0,c.useState)(0),[q,W]=(0,c.useState)(null),[V,I]=(0,c.useState)(""),K=[{value:"plain",label:"Plain Text (Case-insensitive)"},{value:"plain_cs",label:"Plain Text (Case-sensitive)"},{value:"regex",label:"Regular Expression"},{value:"url",label:"URL Operations"},{value:"url_segment",label:"URL Segment Replace"},{value:"prefix_swap",label:"Prefix Swap"},{value:"full_text",label:"Full Text Overwrite"}],H=()=>{f(null),w(""),u(null)},Z=r=>{d&&r>=1&&r<=(e?.total_pages||1)&&d(r)};return e?(0,c.createElement)("div",{className:"wcfdr-bg-white wcfdr-rounded-lg wcfdr-shadow"},(0,c.createElement)("div",{className:"wcfdr-px-6 wcfdr-py-4 wcfdr-border-b wcfdr-border-gray-200"},(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-justify-between"},(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-space-x-4"},(0,c.createElement)("h2",{className:"wcfdr-text-lg wcfdr-font-medium wcfdr-text-gray-900"},"Search Results"),e.rows.length>0&&(0,c.createElement)("button",{onClick:()=>y(!x),className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-3 wcfdr-py-1.5 wcfdr-text-sm wcfdr-font-medium wcfdr-rounded-md wcfdr-text-blue-700 wcfdr-bg-blue-100 hover:wcfdr-bg-blue-200"},(0,c.createElement)(s,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-mr-2"}),"Bulk Actions",p.size>0&&(0,c.createElement)("span",{className:"wcfdr-ml-2 wcfdr-inline-flex wcfdr-items-center wcfdr-px-2 wcfdr-py-0.5 wcfdr-rounded-full wcfdr-text-xs wcfdr-font-medium wcfdr-bg-blue-600 wcfdr-text-white"},p.size))),(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-space-x-4"},(0,c.createElement)("span",{className:"wcfdr-text-sm wcfdr-text-gray-500"},e.total," total results"),(0,c.createElement)("span",{className:"wcfdr-text-sm wcfdr-text-gray-500"},"Page ",e.page," of ",e.total_pages)))),x&&(0,c.createElement)("div",{className:"wcfdr-px-6 wcfdr-py-4 wcfdr-bg-gray-50 wcfdr-border-b wcfdr-border-gray-200"},(0,c.createElement)("div",{className:"wcfdr-grid wcfdr-grid-cols-1 wcfdr-gap-4 lg:wcfdr-grid-cols-2"},(0,c.createElement)("div",{className:"wcfdr-space-y-3"},(0,c.createElement)("div",{className:"wcfdr-grid wcfdr-grid-cols-2 wcfdr-gap-3"},(0,c.createElement)("div",null,(0,c.createElement)("label",{className:"wcfdr-block wcfdr-text-xs wcfdr-font-medium wcfdr-text-gray-700 wcfdr-mb-1"},"Find"),(0,c.createElement)("input",{value:L,onChange:e=>M(e.target.value),placeholder:"Text to find...",className:"wcfdr-w-full wcfdr-text-sm wcfdr-font-mono wcfdr-rounded-md wcfdr-border-gray-300 wcfdr-shadow-sm focus:wcfdr-border-blue-500 focus:wcfdr-ring-blue-500"})),(0,c.createElement)("div",null,(0,c.createElement)("label",{className:"wcfdr-block wcfdr-text-xs wcfdr-font-medium wcfdr-text-gray-700 wcfdr-mb-1"},"Replace With"),(0,c.createElement)("input",{value:D,onChange:e=>F(e.target.value),placeholder:"Replacement text...",className:"wcfdr-w-full wcfdr-text-sm wcfdr-font-mono wcfdr-rounded-md wcfdr-border-gray-300 wcfdr-shadow-sm focus:wcfdr-border-blue-500 focus:wcfdr-ring-blue-500"}))),(0,c.createElement)("div",{className:"wcfdr-grid wcfdr-grid-cols-2 wcfdr-gap-3"},(0,c.createElement)("div",null,(0,c.createElement)("label",{className:"wcfdr-block wcfdr-text-xs wcfdr-font-medium wcfdr-text-gray-700 wcfdr-mb-1"},"Mode"),(0,c.createElement)("select",{value:h,onChange:e=>j(e.target.value),className:"wcfdr-w-full wcfdr-text-sm wcfdr-rounded-md wcfdr-border-gray-300 wcfdr-shadow-sm focus:wcfdr-border-blue-500 focus:wcfdr-ring-blue-500"},K.map(e=>(0,c.createElement)("option",{key:e.value,value:e.value},e.label)))),(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-end"},(0,c.createElement)("label",{className:"wcfdr-flex wcfdr-items-center wcfdr-text-xs wcfdr-text-gray-700"},(0,c.createElement)("input",{type:"checkbox",checked:O,onChange:e=>U(e.target.checked),disabled:"plain"===h,className:"wcfdr-mr-2 wcfdr-rounded wcfdr-border-gray-300 wcfdr-text-blue-600 focus:wcfdr-ring-blue-500"}),"Case Sensitive")))),(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-end wcfdr-space-x-2"},(0,c.createElement)("button",{onClick:async()=>{if(L&&D&&0!==p.size){A(!0),B(0);try{const r=e.rows.find(e=>p.has(`${e.post_id}-${e.meta_key}`));if(!r)throw new Error("No rows selected");const{useDataReplacerStore:c}=await Promise.resolve().then(t.bind(t,162)),a=c.getState(),d={find:L,replace:D,mode:h,post_type:r.post_type,meta_key:r.meta_key,case_sensitive:O,limit:5e3},l=await a.previewReplace(d);W({totalRows:l.total||0,affectedRows:l.rows||[],preview:l,warnings:[],estimatedTime:"Processing..."}),B(100)}catch(e){console.error("Bulk preview failed:",e),I("Preview failed: "+e.message)}finally{A(!1)}}},disabled:!L||!D||0===p.size||z,className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-3 wcfdr-py-2 wcfdr-border wcfdr-border-transparent wcfdr-text-sm wcfdr-font-medium wcfdr-rounded-md wcfdr-text-white wcfdr-bg-blue-600 hover:wcfdr-bg-blue-700 disabled:wcfdr-opacity-50 disabled:wcfdr-cursor-not-allowed"},(0,c.createElement)(E,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-mr-2"}),"Preview"),(0,c.createElement)("button",{onClick:()=>{y(!1),W(null),B(0),M(""),F("")},className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-3 wcfdr-py-2 wcfdr-border wcfdr-border-gray-300 wcfdr-shadow-sm wcfdr-text-sm wcfdr-font-medium wcfdr-rounded-md wcfdr-text-gray-700 wcfdr-bg-white hover:wcfdr-bg-gray-50"},(0,c.createElement)(b,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-mr-2"}),"Cancel"))),z&&(0,c.createElement)("div",{className:"wcfdr-mt-3 wcfdr-bg-blue-50 wcfdr-border wcfdr-border-blue-200 wcfdr-rounded-lg wcfdr-p-3"},(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-mb-2"},(0,c.createElement)("div",{className:"wcfdr-animate-spin wcfdr-rounded-full wcfdr-h-4 wcfdr-w-4 wcfdr-border-b-2 wcfdr-border-blue-600 wcfdr-mr-2"}),(0,c.createElement)("span",{className:"wcfdr-text-sm wcfdr-font-medium wcfdr-text-blue-800"},q?"Executing changes...":"Previewing changes...")),(0,c.createElement)("div",{className:"wcfdr-w-full wcfdr-bg-blue-200 wcfdr-rounded-full wcfdr-h-2"},(0,c.createElement)("div",{className:"wcfdr-bg-blue-600 wcfdr-h-2 wcfdr-rounded-full wcfdr-transition-all wcfdr-duration-300",style:{width:`${$}%`}})),(0,c.createElement)("div",{className:"wcfdr-text-xs wcfdr-text-blue-600 wcfdr-mt-1"},$,"% complete"),V&&(0,c.createElement)("div",{className:"wcfdr-text-sm wcfdr-text-blue-700 wcfdr-mt-2 wcfdr-text-center wcfdr-font-medium"},V)),q&&!z&&(0,c.createElement)("div",{className:"wcfdr-mt-3 wcfdr-bg-green-50 wcfdr-border wcfdr-border-green-200 wcfdr-rounded-lg wcfdr-p-4"},(0,c.createElement)("div",{className:"wcfdr-space-y-4"},(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-justify-between"},(0,c.createElement)("div",{className:"wcfdr-space-y-1"},(0,c.createElement)("div",{className:"wcfdr-text-sm wcfdr-font-medium wcfdr-text-green-800"},"Preview: ",q.affectedRows," of ",q.totalRows," rows will be affected"),(0,c.createElement)("div",{className:"wcfdr-text-xs wcfdr-text-green-600"},"Mode: ",K.find(e=>e.value===q.mode)?.label," | Estimated time: ",q.estimatedTime),(0,c.createElement)("div",{className:"wcfdr-text-xs wcfdr-text-green-600"},'Find: "',q.findText,'" → Replace: "',q.replaceText,'"')),(0,c.createElement)("button",{onClick:async()=>{if(q&&q.affectedRows){A(!0),B(0),I("Preparing bulk operation...");try{const r=q.affectedRows;if(0===r.length)return alert("No changes to execute!"),void A(!1);const c=`Are you sure you want to replace "${L}" with "${D}" in ${r.length} rows? This action cannot be undone.`;if(!confirm(c))return A(!1),void I("");const a=e.rows.find(e=>p.has(`${e.post_id}-${e.meta_key}`));if(!a)throw new Error("No rows selected");const{useDataReplacerStore:l}=await Promise.resolve().then(t.bind(t,162)),s=l.getState(),f={find:L,replace:D,mode:h,post_type:a.post_type,meta_key:a.meta_key,case_sensitive:O,limit:5e3,confirm:!0};I("Executing bulk replace..."),B(50);const n=await s.executeReplace(f);B(100),I(`Bulk replace completed! Updated: ${n.updated}, Failed: ${n.failed}`),W(null),g(new Set),d&&d(1)}catch(e){console.error("Bulk execute failed:",e),I("Bulk execute failed: "+e.message),setTimeout(()=>{alert(`Bulk execution failed: ${e}`),A(!1),I("")},2e3)}finally{A(!1),B(0)}}},className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-3 wcfdr-py-1.5 wcfdr-text-sm wcfdr-font-medium wcfdr-rounded-md wcfdr-text-white wcfdr-bg-green-600 hover:wcfdr-bg-green-700"},(0,c.createElement)(v,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-mr-1"}),"Execute")),q.warnings.length>0&&(0,c.createElement)("div",{className:"wcfdr-bg-yellow-50 wcfdr-border wcfdr-border-yellow-200 wcfdr-rounded-md wcfdr-p-3"},(0,c.createElement)("div",{className:"wcfdr-flex"},(0,c.createElement)(N,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-text-yellow-400 wcfdr-mr-2 wcfdr-mt-0.5"}),(0,c.createElement)("div",{className:"wcfdr-text-sm wcfdr-text-yellow-800"},(0,c.createElement)("strong",null,"Warnings:"),(0,c.createElement)("ul",{className:"wcfdr-mt-1 wcfdr-list-disc wcfdr-list-inside"},q.warnings.map((e,r)=>(0,c.createElement)("li",{key:r},e)))))),q.previewData&&q.previewData.length>0&&(0,c.createElement)("div",{className:"wcfdr-bg-white wcfdr-border wcfdr-border-green-200 wcfdr-rounded-md wcfdr-overflow-hidden"},(0,c.createElement)("div",{className:"wcfdr-px-3 wcfdr-py-2 wcfdr-bg-green-100 wcfdr-border-b wcfdr-border-green-200"},(0,c.createElement)("h4",{className:"wcfdr-text-sm wcfdr-font-medium wcfdr-text-green-800"},"Affected Rows Preview")),(0,c.createElement)("div",{className:"wcfdr-max-h-60 wcfdr-overflow-y-auto"},(0,c.createElement)("table",{className:"wcfdr-min-w-full wcfdr-divide-y wcfdr-divide-green-200"},(0,c.createElement)("thead",{className:"wcfdr-bg-green-50"},(0,c.createElement)("tr",null,(0,c.createElement)("th",{className:"wcfdr-px-3 wcfdr-py-2 wcfdr-text-left wcfdr-text-xs wcfdr-font-medium wcfdr-text-green-700"},"Post"),(0,c.createElement)("th",{className:"wcfdr-px-3 wcfdr-py-2 wcfdr-text-left wcfdr-text-xs wcfdr-font-medium wcfdr-text-green-700"},"Meta Key"),(0,c.createElement)("th",{className:"wcfdr-px-3 wcfdr-py-2 wcfdr-text-left wcfdr-text-xs wcfdr-font-medium wcfdr-text-green-700"},"Before"),(0,c.createElement)("th",{className:"wcfdr-px-3 wcfdr-py-2 wcfdr-text-left wcfdr-text-xs wcfdr-font-medium wcfdr-text-green-700"},"After"))),(0,c.createElement)("tbody",{className:"wcfdr-bg-white wcfdr-divide-y wcfdr-divide-green-200"},q.previewData.slice(0,10).map((e,r)=>(0,c.createElement)("tr",{key:r,className:"hover:wcfdr-bg-green-50"},(0,c.createElement)("td",{className:"wcfdr-px-3 wcfdr-py-2 wcfdr-text-xs wcfdr-text-green-900"},(0,c.createElement)("div",{className:"wcfdr-font-medium"},e.post_title),(0,c.createElement)("div",{className:"wcfdr-text-green-600"},"ID: ",e.post_id)),(0,c.createElement)("td",{className:"wcfdr-px-3 wcfdr-py-2 wcfdr-text-xs wcfdr-text-green-900 wcfdr-font-mono"},e.meta_key),(0,c.createElement)("td",{className:"wcfdr-px-3 wcfdr-py-2 wcfdr-text-xs wcfdr-text-green-900 wcfdr-font-mono wcfdr-max-w-xs wcfdr-break-words"},(0,c.createElement)("div",{className:"wcfdr-bg-red-50 wcfdr-p-1 wcfdr-rounded wcfdr-border wcfdr-border-red-200"},e.old_value)),(0,c.createElement)("td",{className:"wcfdr-px-3 wcfdr-py-2 wcfdr-text-xs wcfdr-text-green-900 wcfdr-font-mono wcfdr-max-w-xs wcfdr-break-words"},(0,c.createElement)("div",{className:"wcfdr-bg-green-50 wcfdr-p-1 wcfdr-rounded wcfdr-border wcfdr-border-green-200"},e.new_value)))))),q.previewData.length>10&&(0,c.createElement)("div",{className:"wcfdr-px-3 wcfdr-py-2 wcfdr-bg-green-50 wcfdr-border-t wcfdr-border-green-200 wcfdr-text-center"},(0,c.createElement)("span",{className:"wcfdr-text-xs wcfdr-text-green-600"},"Showing first 10 of ",q.previewData.length," affected rows")))),0===q.affectedRows&&(0,c.createElement)("div",{className:"wcfdr-bg-blue-50 wcfdr-border wcfdr-border-blue-200 wcfdr-rounded-md wcfdr-p-3 wcfdr-text-center"},(0,c.createElement)("div",{className:"wcfdr-text-sm wcfdr-text-blue-800"},(0,c.createElement)("strong",null,"No changes detected!")," The search criteria didn't match any of the selected rows."),(0,c.createElement)("div",{className:"wcfdr-text-xs wcfdr-text-blue-600 wcfdr-mt-1"},"Try adjusting your search terms or selecting different rows."))))),i&&(0,c.createElement)("div",{className:"wcfdr-mx-6 wcfdr-mt-4 wcfdr-p-3 wcfdr-rounded-lg wcfdr-border "+("success"===i.type?"wcfdr-bg-green-50 wcfdr-border-green-200 wcfdr-text-green-800":"wcfdr-bg-red-50 wcfdr-border-red-200 wcfdr-text-red-800")},i.text),(0,c.createElement)("div",{className:"wcfdr-overflow-x-auto"},(0,c.createElement)("table",{className:"wcfdr-min-w-full wcfdr-divide-y wcfdr-divide-gray-200"},(0,c.createElement)("thead",{className:"wcfdr-bg-gray-50"},(0,c.createElement)("tr",null,(0,c.createElement)("th",{className:"wcfdr-px-6 wcfdr-py-3 wcfdr-text-left"},(0,c.createElement)("button",{onClick:()=>{if(e?.rows)if(p.size===e.rows.length)g(new Set);else{const r=e.rows.map(e=>`${e.post_id}-${e.meta_key}`);g(new Set(r))}},className:"wcfdr-text-gray-400 hover:wcfdr-text-gray-600"},e.rows.length>0&&p.size===e.rows.length?(0,c.createElement)(k,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-text-blue-600"}):(0,c.createElement)(S,{className:"wcfdr-h-4 wcfdr-w-4"}))),(0,c.createElement)("th",{className:"wcfdr-px-6 wcfdr-py-3 wcfdr-text-left wcfdr-text-xs wcfdr-font-medium wcfdr-text-gray-500 wcfdr-uppercase wcfdr-tracking-wider"},"Post Title"),(0,c.createElement)("th",{className:"wcfdr-px-6 wcfdr-py-3 wcfdr-text-left wcfdr-text-xs wcfdr-font-medium wcfdr-text-gray-500 wcfdr-uppercase wcfdr-tracking-wider"},"Meta Key"),(0,c.createElement)("th",{className:"wcfdr-px-6 wcfdr-py-3 wcfdr-text-left wcfdr-text-xs wcfdr-font-medium wcfdr-text-gray-500 wcfdr-uppercase wcfdr-tracking-wider"},"Meta Value"),(0,c.createElement)("th",{className:"wcfdr-px-6 wcfdr-py-3 wcfdr-text-left wcfdr-text-xs wcfdr-font-medium wcfdr-text-gray-500 wcfdr-uppercase wcfdr-tracking-wider"},"Status"),(0,c.createElement)("th",{className:"wcfdr-px-6 wcfdr-py-3 wcfdr-text-left wcfdr-text-xs wcfdr-font-medium wcfdr-text-gray-500 wcfdr-uppercase wcfdr-tracking-wider"},"Actions"))),(0,c.createElement)("tbody",{className:"wcfdr-bg-white wcfdr-divide-y wcfdr-divide-gray-200"},e.rows.map(e=>{const t=`${e.post_id}-${e.meta_key}`,d=p.has(t);return(0,c.createElement)("tr",{key:t,className:"hover:wcfdr-bg-gray-50 "+(d?"wcfdr-bg-blue-50":"")},(0,c.createElement)("td",{className:"wcfdr-px-6 wcfdr-py-4 wcfdr-whitespace-nowrap"},(0,c.createElement)("button",{onClick:()=>(e=>{const r=new Set(p);r.has(e)?r.delete(e):r.add(e),g(r)})(t),className:"wcfdr-text-gray-400 hover:wcfdr-text-gray-600"},d?(0,c.createElement)(k,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-text-blue-600"}):(0,c.createElement)(S,{className:"wcfdr-h-4 wcfdr-w-4"}))),(0,c.createElement)("td",{className:"wcfdr-px-6 wcfdr-py-4 wcfdr-whitespace-nowrap"},(0,c.createElement)("div",{className:"wcfdr-text-sm wcfdr-font-medium wcfdr-text-gray-900"},e.post_title),(0,c.createElement)("div",{className:"wcfdr-text-sm wcfdr-text-gray-500"},"ID: ",e.post_id)),(0,c.createElement)("td",{className:"wcfdr-px-6 wcfdr-py-4 wcfdr-whitespace-nowrap"},(0,c.createElement)("div",{className:"wcfdr-text-sm wcfdr-text-gray-900 wcfdr-font-mono"},e.meta_key)),(0,c.createElement)("td",{className:"wcfdr-px-6 wcfdr-py-4"},l===e.post_id?(0,c.createElement)("div",{className:"wcfdr-space-y-2"},(0,c.createElement)("textarea",{value:n,onChange:e=>w(e.target.value),rows:3,className:"wcfdr-w-full wcfdr-text-sm wcfdr-font-mono wcfdr-rounded-md wcfdr-border-gray-300 wcfdr-shadow-sm focus:wcfdr-border-blue-500 focus:wcfdr-ring-blue-500"}),(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-space-x-2"},(0,c.createElement)("button",{onClick:()=>(async e=>{m(!0),u(null);try{await r({post_id:e.post_id,meta_key:e.meta_key,new_value:n}),u({type:"success",text:"Row updated successfully!"}),f(null),w(""),setTimeout(()=>u(null),3e3)}catch(e){u({type:"error",text:"Failed to update row. Please try again."})}finally{m(!1)}})(e),disabled:o,className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-2 wcfdr-py-1 wcfdr-text-xs wcfdr-font-medium wcfdr-rounded wcfdr-text-white wcfdr-bg-green-600 hover:wcfdr-bg-green-700 disabled:wcfdr-opacity-50 disabled:wcfdr-cursor-not-allowed"},o?"Saving...":"Save"),(0,c.createElement)("button",{onClick:H,disabled:o,className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-2 wcfdr-py-1 wcfdr-text-xs wcfdr-font-medium wcfdr-rounded wcfdr-text-gray-700 wcfdr-bg-gray-100 hover:wcfdr-bg-gray-200 disabled:wcfdr-opacity-50 disabled:wcfdr-cursor-not-allowed"},"Cancel"))):(0,c.createElement)("div",{className:"wcfdr-text-sm wcfdr-text-gray-900 wcfdr-font-mono wcfdr-max-w-xs wcfdr-break-words"},e.meta_value)),(0,c.createElement)("td",{className:"wcfdr-px-6 wcfdr-py-4 wcfdr-whitespace-nowrap"},(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-space-x-2"},e.is_modified&&(0,c.createElement)("span",{className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-2.5 wcfdr-py-0.5 wcfdr-rounded-full wcfdr-text-xs wcfdr-font-medium wcfdr-bg-yellow-100 wcfdr-text-yellow-800"},(0,c.createElement)(N,{className:"wcfdr-h-3 wcfdr-w-3 wcfdr-mr-1"}),"Modified"),e.has_backup&&(0,c.createElement)("span",{className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-2.5 wcfdr-py-0.5 wcfdr-rounded-full wcfdr-text-xs wcfdr-font-medium wcfdr-bg-green-100 wcfdr-text-green-800"},(0,c.createElement)(R,{className:"wcfdr-h-3 wcfdr-w-3 wcfdr-mr-1"}),"Backup"))),(0,c.createElement)("td",{className:"wcfdr-px-6 wcfdr-py-4 wcfdr-whitespace-nowrap wcfdr-text-sm wcfdr-font-medium"},(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-space-x-2"},l!==e.post_id?(0,c.createElement)("button",{onClick:()=>(e=>{f(e.post_id),w(e.meta_value),u(null)})(e),disabled:o,className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-2 wcfdr-py-1 wcfdr-text-xs wcfdr-font-medium wcfdr-rounded wcfdr-text-blue-700 wcfdr-bg-blue-100 hover:wcfdr-bg-blue-200 disabled:wcfdr-opacity-50 disabled:wcfdr-cursor-not-allowed"},(0,c.createElement)(_,{className:"wcfdr-h-3 wcfdr-w-3 wcfdr-mr-1"}),"Edit"):null,e.has_backup&&(0,c.createElement)("button",{onClick:()=>(async e=>{try{await a({post_id:e.post_id,meta_key:e.meta_key})}catch(e){console.error("Failed to restore row:",e)}})(e),disabled:o,className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-2 wcfdr-py-1 wcfdr-text-xs wcfdr-font-medium wcfdr-rounded wcfdr-text-orange-700 wcfdr-bg-orange-100 hover:wcfdr-bg-orange-200 disabled:wcfdr-opacity-50 disabled:wcfdr-cursor-not-allowed"},(0,c.createElement)(C,{className:"wcfdr-h-3 wcfdr-w-3 wcfdr-mr-1"}),"Restore"))))})))),e.total_pages>1&&(0,c.createElement)("div",{className:"wcfdr-px-6 wcfdr-py-4 wcfdr-border-t wcfdr-border-gray-200"},(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-justify-between"},(0,c.createElement)("div",{className:"wcfdr-text-sm wcfdr-text-gray-700"},"Showing page ",e.page," of ",e.total_pages,"(",e.total," total results)"),(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-space-x-2"},(0,c.createElement)("button",{onClick:()=>Z(e.page-1),disabled:e.page<=1,className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-3 wcfdr-py-2 wcfdr-border wcfdr-border-gray-300 wcfdr-shadow-sm wcfdr-text-sm wcfdr-font-medium wcfdr-rounded-md wcfdr-text-gray-700 wcfdr-bg-white hover:wcfdr-bg-gray-50 disabled:wcfdr-opacity-50 disabled:wcfdr-cursor-not-allowed"},(0,c.createElement)(P,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-mr-1"}),"Previous"),(0,c.createElement)("button",{onClick:()=>Z(e.page+1),disabled:e.page>=e.total_pages,className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-3 wcfdr-py-2 wcfdr-border wcfdr-border-gray-300 wcfdr-shadow-sm wcfdr-text-sm wcfdr-font-medium wcfdr-rounded-md wcfdr-text-gray-700 wcfdr-bg-white hover:wcfdr-bg-gray-50 disabled:wcfdr-opacity-50 disabled:wcfdr-cursor-not-allowed"},"Next",(0,c.createElement)(T,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-ml-1"})))))):(0,c.createElement)("div",{className:"wcfdr-bg-white wcfdr-rounded-lg wcfdr-shadow wcfdr-p-12 wcfdr-text-center"},(0,c.createElement)("div",{className:"wcfdr-text-gray-400 wcfdr-mb-4"},(0,c.createElement)(E,{className:"wcfdr-h-12 wcfdr-w-12 wcfdr-mx-auto"})),(0,c.createElement)("h3",{className:"wcfdr-text-lg wcfdr-font-medium wcfdr-text-gray-900 wcfdr-mb-2"},"No Results Yet"),(0,c.createElement)("p",{className:"wcfdr-text-gray-500"},"Use the search filters above to find post meta values."))},L=l("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),M=l("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),D=()=>{const[e,r]=(0,c.useState)(""),[t,a]=(0,c.useState)(""),[d,l]=(0,c.useState)("plain"),[f,n]=(0,c.useState)(!1),[w,o]=(0,c.useState)(""),[m,i]=(0,c.useState)(null),[u,p]=(0,c.useState)(!1),g=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return(0,c.createElement)("div",{className:"wcfdr-bg-white wcfdr-rounded-lg wcfdr-shadow wcfdr-p-6"},(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-justify-between wcfdr-mb-6"},(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-space-x-2"},(0,c.createElement)(L,{className:"wcfdr-h-6 wcfdr-w-6 wcfdr-text-blue-600"}),(0,c.createElement)("h2",{className:"wcfdr-text-xl wcfdr-font-semibold wcfdr-text-gray-900"},"Live Tester")),(0,c.createElement)("span",{className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-2.5 wcfdr-py-0.5 wcfdr-rounded-full wcfdr-text-xs wcfdr-font-medium wcfdr-bg-blue-100 wcfdr-text-blue-800"},"Test your replacements in real-time")),(0,c.createElement)("div",{className:"wcfdr-grid wcfdr-grid-cols-1 wcfdr-gap-6 lg:wcfdr-grid-cols-2"},(0,c.createElement)("div",{className:"wcfdr-space-y-4"},(0,c.createElement)("div",null,(0,c.createElement)("label",{className:"wcfdr-block wcfdr-text-sm wcfdr-font-medium wcfdr-text-gray-700 wcfdr-mb-2"},"Find"),(0,c.createElement)("input",{value:e,onChange:e=>r(e.target.value),placeholder:"Text to find...",className:"wcfdr-w-full wcfdr-font-mono wcfdr-rounded-md wcfdr-border-gray-300 wcfdr-shadow-sm focus:wcfdr-border-blue-500 focus:wcfdr-ring-blue-500"})),(0,c.createElement)("div",null,(0,c.createElement)("label",{className:"wcfdr-block wcfdr-text-sm wcfdr-font-medium wcfdr-text-gray-700 wcfdr-mb-2"},"Replace With"),(0,c.createElement)("input",{value:t,onChange:e=>a(e.target.value),placeholder:"Replacement text...",className:"wcfdr-w-full wcfdr-font-mono wcfdr-rounded-md wcfdr-border-gray-300 wcfdr-shadow-sm focus:wcfdr-border-blue-500 focus:wcfdr-ring-blue-500"})),(0,c.createElement)("div",null,(0,c.createElement)("label",{className:"wcfdr-block wcfdr-text-sm wcfdr-font-medium wcfdr-text-gray-700 wcfdr-mb-2"},"Mode"),(0,c.createElement)("select",{value:d,onChange:e=>l(e.target.value),className:"wcfdr-w-full wcfdr-rounded-md wcfdr-border-gray-300 wcfdr-shadow-sm focus:wcfdr-border-blue-500 focus:wcfdr-ring-blue-500"},[{value:"plain",label:"Plain Text (Case-insensitive)"},{value:"plain_cs",label:"Plain Text (Case-sensitive)"},{value:"regex",label:"Regular Expression"},{value:"url",label:"URL Operations"},{value:"url_segment",label:"URL Segment Replace"},{value:"prefix_swap",label:"Prefix Swap"},{value:"full_text",label:"Full Text Overwrite"}].map(e=>(0,c.createElement)("option",{key:e.value,value:e.value},e.label)))),(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-justify-between"},(0,c.createElement)("label",{className:"wcfdr-text-sm wcfdr-font-medium wcfdr-text-gray-700"},"Case Sensitive"),(0,c.createElement)("input",{type:"checkbox",checked:f,onChange:e=>n(e.target.checked),disabled:"plain"===d,className:"wcfdr-rounded wcfdr-border-gray-300 wcfdr-text-blue-600 focus:wcfdr-ring-blue-500"})),(0,c.createElement)("div",null,(0,c.createElement)("label",{className:"wcfdr-block wcfdr-text-sm wcfdr-font-medium wcfdr-text-gray-700 wcfdr-mb-2"},"Sample Text"),(0,c.createElement)("textarea",{value:w,onChange:e=>o(e.target.value),placeholder:"Enter sample text to test...",rows:6,className:"wcfdr-w-full wcfdr-font-mono wcfdr-rounded-md wcfdr-border-gray-300 wcfdr-shadow-sm focus:wcfdr-border-blue-500 focus:wcfdr-ring-blue-500"}),(0,c.createElement)("div",{className:"wcfdr-mt-2 wcfdr-flex wcfdr-space-x-2"},(0,c.createElement)("button",{onClick:()=>{o("https://example.com/old-path/page?param=value#section")},className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-3 wcfdr-py-1.5 wcfdr-border wcfdr-border-gray-300 wcfdr-shadow-sm wcfdr-text-xs wcfdr-font-medium wcfdr-rounded wcfdr-text-gray-700 wcfdr-bg-white hover:wcfdr-bg-gray-50"},"Load Sample URL"))),(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-space-x-3"},(0,c.createElement)("button",{onClick:async()=>{if(e&&w){p(!0);try{await new Promise(e=>setTimeout(e,500));const r=((e,r,t,c,a)=>{const d=performance.now();let l=0,s=t,f=[];try{switch(c){case"plain":case"plain_cs":const c=a?"g":"gi",d=new RegExp(g(e),c);l=(t.match(d)||[]).length,s=t.replace(d,r);break;case"regex":try{const c=new RegExp(e,a?"g":"gi");l=(t.match(c)||[]).length,s=t.replace(c,r)}catch(e){throw new Error("Invalid regex pattern")}break;case"url":if(t.startsWith("http"))if(e.includes("://")){const e=new URL(t),c=new URL(r);e.protocol=c.protocol,e.host=c.host,s=e.toString(),l=1}else{const e=new URL(t);e.pathname=r,s=e.toString(),l=1}else f.push("Sample text does not appear to be a URL");break;case"full_text":s=r,l=1;break;default:s=t}}catch(e){throw e}return{matches:l,preview:s,warnings:f,executionTime:performance.now()-d}})(e,t,w,d,f);i(r)}catch(e){i({matches:0,preview:w,warnings:[],error:"Test failed",executionTime:0})}finally{p(!1)}}},disabled:!e||!w||u,className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-4 wcfdr-py-2 wcfdr-border wcfdr-border-transparent wcfdr-text-sm wcfdr-font-medium wcfdr-rounded-md wcfdr-text-white wcfdr-bg-blue-600 hover:wcfdr-bg-blue-700 disabled:wcfdr-opacity-50 disabled:wcfdr-cursor-not-allowed"},(0,c.createElement)(v,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-mr-2"}),u?"Testing...":"Test"),(0,c.createElement)("button",{onClick:()=>{r(""),a(""),o(""),i(null)},className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-4 wcfdr-py-2 wcfdr-border wcfdr-border-gray-300 wcfdr-shadow-sm wcfdr-text-sm wcfdr-font-medium wcfdr-rounded-md wcfdr-text-gray-700 wcfdr-bg-white hover:wcfdr-bg-gray-50"},(0,c.createElement)(C,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-mr-2"}),"Clear"))),(0,c.createElement)("div",{className:"wcfdr-space-y-4"},(0,c.createElement)("div",{className:"wcfdr-bg-gray-50 wcfdr-rounded-lg wcfdr-p-4"},(0,c.createElement)("h3",{className:"wcfdr-text-sm wcfdr-font-medium wcfdr-text-gray-900 wcfdr-mb-3"},"Test Results"),m?(0,c.createElement)("div",{className:"wcfdr-space-y-4"},(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-justify-between"},(0,c.createElement)("span",{className:"wcfdr-text-sm wcfdr-text-gray-600"},"Matches Found:"),(0,c.createElement)("span",{className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-2.5 wcfdr-py-0.5 wcfdr-rounded-full wcfdr-text-xs wcfdr-font-medium "+(m.matches>0?"wcfdr-bg-green-100 wcfdr-text-green-800":"wcfdr-bg-gray-100 wcfdr-text-gray-800")},m.matches," match",1!==m.matches?"es":"")),(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-justify-between"},(0,c.createElement)("span",{className:"wcfdr-text-sm wcfdr-text-gray-600"},"Execution Time:"),(0,c.createElement)("span",{className:"wcfdr-text-sm wcfdr-text-gray-900"},m.executionTime.toFixed(2),"ms")),m.warnings.length>0&&(0,c.createElement)("div",{className:"wcfdr-bg-yellow-50 wcfdr-border wcfdr-border-yellow-200 wcfdr-rounded-md wcfdr-p-3"},(0,c.createElement)("div",{className:"wcfdr-flex"},(0,c.createElement)(N,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-text-yellow-400 wcfdr-mr-2"}),(0,c.createElement)("div",{className:"wcfdr-text-sm wcfdr-text-yellow-800"},(0,c.createElement)("strong",null,"Warnings:"),(0,c.createElement)("ul",{className:"wcfdr-mt-1 wcfdr-list-disc wcfdr-list-inside"},m.warnings.map((e,r)=>(0,c.createElement)("li",{key:r},e)))))),m.error&&(0,c.createElement)("div",{className:"wcfdr-bg-red-50 wcfdr-border wcfdr-border-red-200 wcfdr-rounded-md wcfdr-p-3"},(0,c.createElement)("div",{className:"wcfdr-flex"},(0,c.createElement)(N,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-text-red-400 wcfdr-mr-2"}),(0,c.createElement)("div",{className:"wcfdr-text-sm wcfdr-text-red-800"},(0,c.createElement)("strong",null,"Error:")," ",m.error))),(0,c.createElement)("div",null,(0,c.createElement)("label",{className:"wcfdr-block wcfdr-text-sm wcfdr-font-medium wcfdr-text-gray-700 wcfdr-mb-2"},"Result Preview"),(0,c.createElement)("div",{className:"wcfdr-bg-white wcfdr-border wcfdr-border-gray-200 wcfdr-rounded-md wcfdr-p-3 wcfdr-relative"},(0,c.createElement)("div",{className:"wcfdr-text-sm wcfdr-text-gray-900 wcfdr-font-mono wcfdr-break-all"},m.preview),(0,c.createElement)("button",{onClick:()=>{return e=m.preview,void navigator.clipboard.writeText(e);var e},className:"wcfdr-absolute wcfdr-top-2 wcfdr-right-2 wcfdr-text-gray-400 hover:wcfdr-text-gray-600"},(0,c.createElement)(M,{className:"wcfdr-h-4 wcfdr-w-4"}))))):(0,c.createElement)("div",{className:"wcfdr-text-center wcfdr-text-gray-500 wcfdr-py-8"},(0,c.createElement)(s,{className:"wcfdr-h-12 wcfdr-w-12 wcfdr-mx-auto wcfdr-mb-4 wcfdr-text-gray-300"}),(0,c.createElement)("p",null,"Run a test to see results here"))))))},F=l("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),O=l("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),U=({activeTab:e,onTabChange:r,onSettingsClick:t})=>{const a=[{id:"search",label:"Search & Replace",icon:x,description:"Search and replace post meta values"},{id:"live-tester",label:"Live Tester",icon:L,description:"Test replacements in real-time"},{id:"backups",label:"Backups",icon:F,description:"Manage backup and restore operations"},{id:"settings",label:"Settings",icon:n,description:"Configure plugin options"},{id:"help",label:"Help",icon:f,description:"Documentation and guides"}];return(0,c.createElement)("aside",{className:"wcfdr-w-64 wcfdr-bg-white wcfdr-border-r wcfdr-border-gray-200 wcfdr-min-h-screen"},(0,c.createElement)("div",{className:"wcfdr-p-6"},(0,c.createElement)("div",{className:"wcfdr-mb-8"},(0,c.createElement)("h2",{className:"wcfdr-text-lg wcfdr-font-semibold wcfdr-text-gray-900 wcfdr-mb-2"},"Navigation"),(0,c.createElement)("p",{className:"wcfdr-text-sm wcfdr-text-gray-600"},"Choose your operation type")),(0,c.createElement)("nav",{className:"wcfdr-space-y-2"},a.map(t=>{const a=t.icon,d=e===t.id;return(0,c.createElement)("button",{key:t.id,onClick:()=>r(t.id),className:"wcfdr-w-full wcfdr-text-left wcfdr-p-3 wcfdr-rounded-lg wcfdr-transition-all wcfdr-duration-200 "+(d?"wcfdr-bg-blue-50 wcfdr-border wcfdr-border-blue-200 wcfdr-text-blue-700":"wcfdr-text-gray-700 hover:wcfdr-bg-gray-50 hover:wcfdr-text-gray-900")},(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-space-x-3"},(0,c.createElement)(a,{className:"wcfdr-h-5 wcfdr-w-5 "+(d?"wcfdr-text-blue-600":"wcfdr-text-gray-500")}),(0,c.createElement)("div",{className:"wcfdr-flex-1"},(0,c.createElement)("div",{className:"wcfdr-font-medium"},t.label),(0,c.createElement)("div",{className:"wcfdr-text-xs wcfdr-text-gray-500 wcfdr-mt-1"},t.description))))})),(0,c.createElement)("div",{className:"wcfdr-mt-8 wcfdr-pt-6 wcfdr-border-t wcfdr-border-gray-200"},(0,c.createElement)("div",{className:"wcfdr-bg-gray-50 wcfdr-rounded-lg wcfdr-p-4"},(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-items-center wcfdr-space-x-2 wcfdr-mb-3"},(0,c.createElement)(O,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-text-green-600"}),(0,c.createElement)("span",{className:"wcfdr-text-sm wcfdr-font-medium wcfdr-text-gray-900"},"Plugin Status")),(0,c.createElement)("div",{className:"wcfdr-space-y-2 wcfdr-text-xs wcfdr-text-gray-600"},(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-justify-between"},(0,c.createElement)("span",null,"Backend:"),(0,c.createElement)("span",{className:"wcfdr-text-green-600 wcfdr-font-medium"},"Connected")),(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-justify-between"},(0,c.createElement)("span",null,"Database:"),(0,c.createElement)("span",{className:"wcfdr-text-green-600 wcfdr-font-medium"},"Ready")),(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-justify-between"},(0,c.createElement)("span",null,"Permissions:"),(0,c.createElement)("span",{className:"wcfdr-text-green-600 wcfdr-font-medium"},"Admin"))))),(0,c.createElement)("div",{className:"wcfdr-mt-6"},(0,c.createElement)("button",{onClick:t,className:"wcfdr-w-full wcfdr-inline-flex wcfdr-items-center wcfdr-justify-center wcfdr-px-4 wcfdr-py-2 wcfdr-border wcfdr-border-gray-300 wcfdr-shadow-sm wcfdr-text-sm wcfdr-font-medium wcfdr-rounded-md wcfdr-text-gray-700 wcfdr-bg-white hover:wcfdr-bg-gray-50"},(0,c.createElement)(n,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-mr-2"}),"Plugin Settings"))))},z=({size:e="medium",className:r=""})=>(0,c.createElement)("div",{className:`wcfdr-flex wcfdr-items-center wcfdr-justify-center wcfdr-p-8 ${r}`},(0,c.createElement)("div",{className:`wcfdr-animate-spin wcfdr-rounded-full wcfdr-border-b-2 wcfdr-border-blue-600 ${{small:"wcfdr-h-4 wcfdr-w-4",medium:"wcfdr-h-8 wcfdr-w-8",large:"wcfdr-h-12 wcfdr-w-12"}[e]}`})),A=()=>{const[e,r]=(0,c.useState)(!0),[t,a]=(0,c.useState)("search"),[d,l]=(0,c.useState)(null),[s,f]=(0,c.useState)({maxResultsPerPage:1500,maxBulkOperations:5e3,backupRetention:10,autoCleanup:30}),[n,w]=(0,c.useState)(!1),[m,i]=(0,c.useState)(null),{searchResults:u,isLoading:p,error:x,initializeStore:b,searchMeta:E}=(0,y.useDataReplacerStore)();(0,c.useEffect)(()=>{(async()=>{try{console.log("🚀 WCF Data Replacer React App Initializing..."),await b(),await(async()=>{try{if(window.wcfdr_ajax){const e=new FormData;e.append("action","wcfdr_get_settings"),e.append("nonce",window.wcfdr_ajax.nonce);const r=await fetch(window.wcfdr_ajax.ajax_url,{method:"POST",body:e,credentials:"same-origin"});if(r.ok){const e=await r.json();if(e.success&&e.data)return void f(e.data)}}const e=localStorage.getItem("wcfdr_settings");if(e)try{const r=JSON.parse(e);f(r)}catch(e){console.warn("Failed to parse saved settings from localStorage")}}catch(e){console.warn("Failed to load settings from WordPress, using defaults")}})(),r(!1),console.log("✅ WCF Data Replacer React App Ready!")}catch(e){console.error("❌ Failed to initialize store:",e),r(!1)}})()},[b]);const v=()=>{a("settings")},N=async()=>{if(d)try{console.log("🔄 Refreshing results with filters:",d),await E(d)}catch(e){console.error("❌ Failed to refresh results:",e)}};return e?(0,c.createElement)(z,{size:"large"}):(0,c.createElement)("div",{className:"wcfdr-min-h-screen wcfdr-bg-gray-50"},(0,c.createElement)(o,{onSettingsClick:v,onHelpClick:()=>{a("help")}}),(0,c.createElement)("div",{className:"wcfdr-flex wcfdr-min-h-screen"},(0,c.createElement)(U,{activeTab:t,onTabChange:a,onSettingsClick:v}),(0,c.createElement)("main",{className:"wcfdr-flex-1 wcfdr-p-6"},"search"===t&&(0,c.createElement)("div",{className:"wcfdr-space-y-6"},(0,c.createElement)(h,{onSearch:async e=>{try{console.log("🔍 Searching with filters:",e),l(e),await E(e)}catch(e){console.error("❌ Search failed:",e)}},onClear:()=>{console.log("🧹 Clearing search"),l(null),y.useDataReplacerStore.getState().searchResults=null},isLoading:p,settings:s}),(0,c.createElement)(j,{results:u,onUpdateRow:async e=>{try{console.log("Update row:",e),await y.useDataReplacerStore.getState().updateRow(e),await N()}catch(e){console.error("Failed to update row:",e)}},onRestoreRow:async e=>{try{console.log("Restore row:",e),await y.useDataReplacerStore.getState().restoreRow(e.post_id,e.meta_key),await N()}catch(e){console.error("Failed to restore row:",e)}},onPageChange:async e=>{if(d)try{console.log("📄 Changing to page:",e);const r={...d,page:e};await E(r)}catch(e){console.error("Failed to change page:",e)}}})),"live-tester"===t&&(0,c.createElement)(D,null),"backups"===t&&(0,c.createElement)("div",{className:"wcfdr-space-y-6"},(0,c.createElement)("h2",{className:"wcfdr-text-2xl wcfdr-font-bold wcfdr-text-gray-900"},"Backup Management"),(0,c.createElement)("div",{className:"wcfdr-bg-white wcfdr-rounded-lg wcfdr-shadow wcfdr-p-12 wcfdr-text-center"},(0,c.createElement)("div",{className:"wcfdr-text-gray-400 wcfdr-mb-4"},(0,c.createElement)("svg",{className:"wcfdr-h-12 wcfdr-w-12 wcfdr-mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,c.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"}))),(0,c.createElement)("h3",{className:"wcfdr-text-lg wcfdr-font-medium wcfdr-text-gray-900 wcfdr-mb-2"},"Backup Management"),(0,c.createElement)("p",{className:"wcfdr-text-gray-500"},"Manage your post meta backups and restore operations."),(0,c.createElement)("p",{className:"wcfdr-text-sm wcfdr-text-gray-400 wcfdr-mt-2"},"Coming soon in the next update."))),"settings"===t&&(0,c.createElement)("div",{className:"wcfdr-space-y-6"},(0,c.createElement)("h2",{className:"wcfdr-text-2xl wcfdr-font-bold wcfdr-text-gray-900"},"Plugin Settings"),m&&(0,c.createElement)("div",{className:"wcfdr-p-4 wcfdr-rounded-lg wcfdr-border "+("success"===m.type?"wcfdr-bg-green-50 wcfdr-border-green-200 wcfdr-text-green-800":"wcfdr-bg-red-50 wcfdr-border-red-200 wcfdr-text-red-800")},m.text),(0,c.createElement)("div",{className:"wcfdr-bg-white wcfdr-rounded-lg wcfdr-shadow wcfdr-p-6"},(0,c.createElement)("div",{className:"wcfdr-space-y-6"},(0,c.createElement)("div",null,(0,c.createElement)("h3",{className:"wcfdr-text-lg wcfdr-font-medium wcfdr-text-gray-900 wcfdr-mb-4"},"General Settings"),(0,c.createElement)("div",{className:"wcfdr-grid wcfdr-grid-cols-1 wcfdr-gap-4 md:wcfdr-grid-cols-2"},(0,c.createElement)("div",null,(0,c.createElement)("label",{className:"wcfdr-block wcfdr-text-sm wcfdr-font-medium wcfdr-text-gray-700 wcfdr-mb-2"},"Max Results Per Page"),(0,c.createElement)("select",{value:s.maxResultsPerPage,onChange:e=>f(r=>({...r,maxResultsPerPage:Number(e.target.value)})),className:"wcfdr-w-full wcfdr-rounded-md wcfdr-border-gray-300 wcfdr-shadow-sm focus:wcfdr-border-blue-500 focus:wcfdr-ring-blue-500"},(0,c.createElement)("option",{value:20},"20"),(0,c.createElement)("option",{value:50},"50"),(0,c.createElement)("option",{value:100},"100"),(0,c.createElement)("option",{value:200},"200"),(0,c.createElement)("option",{value:500},"500"),(0,c.createElement)("option",{value:1e3},"1,000"),(0,c.createElement)("option",{value:1500},"1,500"))),(0,c.createElement)("div",null,(0,c.createElement)("label",{className:"wcfdr-block wcfdr-text-sm wcfdr-font-medium wcfdr-text-gray-700 wcfdr-mb-2"},"Max Bulk Operations"),(0,c.createElement)("select",{value:s.maxBulkOperations,onChange:e=>f(r=>({...r,maxBulkOperations:Number(e.target.value)})),className:"wcfdr-w-full wcfdr-rounded-md wcfdr-border-gray-300 wcfdr-shadow-sm focus:wcfdr-border-blue-500 focus:wcfdr-ring-blue-500"},(0,c.createElement)("option",{value:1e3},"1,000"),(0,c.createElement)("option",{value:5e3},"5,000"),(0,c.createElement)("option",{value:1e4},"10,000"))))),(0,c.createElement)("div",null,(0,c.createElement)("h3",{className:"wcfdr-text-lg wcfdr-font-medium wcfdr-text-gray-900 wcfdr-mb-4"},"Backup Settings"),(0,c.createElement)("div",{className:"wcfdr-grid wcfdr-grid-cols-1 wcfdr-gap-4 md:wcfdr-grid-cols-2"},(0,c.createElement)("div",null,(0,c.createElement)("label",{className:"wcfdr-block wcfdr-text-sm wcfdr-font-medium wcfdr-text-gray-700 wcfdr-mb-2"},"Backup Retention (revisions)"),(0,c.createElement)("select",{value:s.backupRetention,onChange:e=>f(r=>({...r,backupRetention:Number(e.target.value)})),className:"wcfdr-w-full wcfdr-rounded-md wcfdr-border-gray-300 wcfdr-shadow-sm focus:wcfdr-border-blue-500 focus:wcfdr-ring-blue-500"},(0,c.createElement)("option",{value:5},"5"),(0,c.createElement)("option",{value:10},"10"),(0,c.createElement)("option",{value:20},"20"),(0,c.createElement)("option",{value:50},"50"))),(0,c.createElement)("div",null,(0,c.createElement)("label",{className:"wcfdr-block wcfdr-text-sm wcfdr-font-medium wcfdr-text-gray-700 wcfdr-mb-2"},"Auto Cleanup (days)"),(0,c.createElement)("select",{value:s.autoCleanup,onChange:e=>f(r=>({...r,autoCleanup:Number(e.target.value)})),className:"wcfdr-w-full wcfdr-rounded-md wcfdr-border-gray-300 wcfdr-shadow-sm focus:wcfdr-border-blue-500 focus:wcfdr-ring-blue-500"},(0,c.createElement)("option",{value:30},"30"),(0,c.createElement)("option",{value:60},"60"),(0,c.createElement)("option",{value:90},"90"),(0,c.createElement)("option",{value:180},"180"))))),(0,c.createElement)("div",{className:"wcfdr-pt-4 wcfdr-border-t wcfdr-border-gray-200"},(0,c.createElement)("button",{onClick:async()=>{w(!0),i(null);try{const e=new FormData;e.append("action","wcfdr_save_settings"),e.append("nonce",window.wcfdr_ajax.nonce),e.append("settings",JSON.stringify(s));const r=await fetch(window.wcfdr_ajax.ajax_url,{method:"POST",body:e,credentials:"same-origin"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const t=await r.json();if(!t.success)throw new Error(t.data?.message||"Failed to save settings");i({type:"success",text:"Settings saved successfully!"}),localStorage.setItem("wcfdr_settings",JSON.stringify(s)),setTimeout(()=>i(null),3e3)}catch(e){console.error("❌ Settings save failed:",e),i({type:"error",text:`Failed to save settings: ${e instanceof Error?e.message:"Unknown error"}`})}finally{w(!1)}},disabled:n,className:"wcfdr-inline-flex wcfdr-items-center wcfdr-px-4 wcfdr-py-2 wcfdr-border wcfdr-border-transparent wcfdr-text-sm wcfdr-font-medium wcfdr-rounded-md wcfdr-text-white wcfdr-bg-blue-600 hover:wcfdr-bg-blue-700 disabled:wcfdr-opacity-50 disabled:wcfdr-cursor-not-allowed"},n?(0,c.createElement)(c.Fragment,null,(0,c.createElement)(g,{className:"wcfdr-h-4 wcfdr-w-4 wcfdr-mr-2 wcfdr-animate-spin"}),"Saving..."):"Save Settings"))))),"help"===t&&(0,c.createElement)("div",{className:"wcfdr-space-y-6"},(0,c.createElement)("h2",{className:"wcfdr-text-2xl wcfdr-font-bold wcfdr-text-gray-900"},"Help & Documentation"),(0,c.createElement)("div",{className:"wcfdr-bg-white wcfdr-rounded-lg wcfdr-shadow wcfdr-p-6"},(0,c.createElement)("div",{className:"wcfdr-space-y-6"},(0,c.createElement)("div",null,(0,c.createElement)("h3",{className:"wcfdr-text-lg wcfdr-font-medium wcfdr-text-gray-900 wcfdr-mb-4"},"Quick Start Guide"),(0,c.createElement)("div",{className:"wcfdr-prose wcfdr-max-w-none"},(0,c.createElement)("ol",{className:"wcfdr-list-decimal wcfdr-list-inside wcfdr-space-y-2 wcfdr-text-gray-700"},(0,c.createElement)("li",null,"Select a Post Type from the dropdown (e.g., Posts, Pages, or your custom post type)"),(0,c.createElement)("li",null,"Choose a Meta Key to search within (e.g., _thumbnail_id, custom_field)"),(0,c.createElement)("li",null,"Optionally enter a value to search for within the meta values"),(0,c.createElement)("li",null,"Click Search to find matching posts"),(0,c.createElement)("li",null,"Use the Live Tester to preview replacements before applying them"),(0,c.createElement)("li",null,"Apply changes individually or use Bulk Actions for multiple updates")))),(0,c.createElement)("div",null,(0,c.createElement)("h3",{className:"wcfdr-text-lg wcfdr-font-medium wcfdr-text-gray-900 wcfdr-mb-4"},"Search Modes"),(0,c.createElement)("div",{className:"wcfdr-grid wcfdr-grid-cols-1 wcfdr-gap-4 md:wcfdr-grid-cols-2"},(0,c.createElement)("div",{className:"wcfdr-bg-gray-50 wcfdr-p-4 wcfdr-rounded-lg"},(0,c.createElement)("h4",{className:"wcfdr-font-medium wcfdr-text-gray-900 wcfdr-mb-2"},"Plain Text"),(0,c.createElement)("p",{className:"wcfdr-text-sm wcfdr-text-gray-600"},"Simple text search and replace (case-insensitive by default)")),(0,c.createElement)("div",{className:"wcfdr-bg-gray-50 wcfdr-p-4 wcfdr-rounded-lg"},(0,c.createElement)("h4",{className:"wcfdr-font-medium wcfdr-text-gray-900 wcfdr-mb-2"},"Regular Expression"),(0,c.createElement)("p",{className:"wcfdr-text-sm wcfdr-text-gray-600"},"Advanced pattern matching using PCRE syntax")),(0,c.createElement)("div",{className:"wcfdr-bg-gray-50 wcfdr-p-4 wcfdr-rounded-lg"},(0,c.createElement)("h4",{className:"wcfdr-font-medium wcfdr-text-gray-900 wcfdr-mb-2"},"URL Operations"),(0,c.createElement)("p",{className:"wcfdr-text-sm wcfdr-text-gray-600"},"Specialized URL manipulation (domain swap, path changes)")),(0,c.createElement)("div",{className:"wcfdr-bg-gray-50 wcfdr-p-4 wcfdr-rounded-lg"},(0,c.createElement)("h4",{className:"wcfdr-font-medium wcfdr-text-gray-900 wcfdr-mb-2"},"Full Text Overwrite"),(0,c.createElement)("p",{className:"wcfdr-text-sm wcfdr-text-gray-600"},"Replace entire meta value with new content")))),(0,c.createElement)("div",null,(0,c.createElement)("h3",{className:"wcfdr-text-lg wcfdr-font-medium wcfdr-text-gray-900 wcfdr-mb-4"},"Safety Features"),(0,c.createElement)("div",{className:"wcfdr-bg-blue-50 wcfdr-border wcfdr-border-blue-200 wcfdr-rounded-lg wcfdr-p-4"},(0,c.createElement)("ul",{className:"wcfdr-list-disc wcfdr-list-inside wcfdr-space-y-1 wcfdr-text-blue-800"},(0,c.createElement)("li",null,(0,c.createElement)("strong",null,"Automatic Backups:")," Every change creates a backup before modification"),(0,c.createElement)("li",null,(0,c.createElement)("strong",null,"Live Preview:")," Test replacements before applying them"),(0,c.createElement)("li",null,(0,c.createElement)("strong",null,"Dry Run Mode:")," See what would change without making actual changes"),(0,c.createElement)("li",null,(0,c.createElement)("strong",null,"Individual Restore:")," Restore any single change from backup"),(0,c.createElement)("li",null,(0,c.createElement)("strong",null,"Bulk Restore:")," Restore all changes in a search result"))))))))))};document.addEventListener("DOMContentLoaded",()=>{console.log("🎯 DOM Ready - Initializing WCF Data Replacer...");const e=document.getElementById("wcfdr-admin-app");e?(console.log("✅ Found container, creating React root..."),a.createRoot(e).render((0,c.createElement)(A,null)),console.log("🎉 React app rendered successfully!")):console.error("❌ Container #wcfdr-admin-app not found!")})})();